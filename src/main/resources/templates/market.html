<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width">
    <title>Gecko API</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-KK94CHFLLe+nY2dmCWGMq91rCGa5gtU4mk92HdvYe+M/SXH301p5ILy+dN9+nJOZ" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.4/font/bootstrap-icons.css">
    <link rel="stylesheet" href="/css/market.css">
    <script src="https://kit.fontawesome.com/f692bfbf5c.js" crossorigin="anonymous"></script>

    <style>


    </style>
</head>
<body>

<div class="page-wrapper">
    <header>
        <nav th:replace="partials/navBar :: navbar2"></nav>
        <div style="position: relative">
            <div class="col-6 col-lg-auto mb-3 mb-lg-0 me-lg-3">
                <nav>
                    <div class="row">
                        <div id="global" class="globalClass"></div>
                    </div>
                </nav>

            </div>
            <div class="ticker-wrap">
                <div class="ticker"></div>
            </div>
        </div>
    </header>

    <button onclick="topFunction()" class="bg-primary" id="topBtn" title="Go to top"><i
            class="bi bi-arrow-up-circle"></i></button>


    <div class="row bg-dark">


        <!--    DROPDOWNS BUTTON -->

        <label class="dropdown">

            <!--        modify spacing-->
            <div class="d-flex ">
                <div class="tabs bg-dark p-3 col-8">

                    <div class="dd-button d-flex align-items-center">
                        Blockchains
                    </div>
                    <input type="checkbox" class="dd-input" id="test">
                    <div class="dd-menu">
                        <div class="tabs">
                            <input type="radio" name="tabs" id="BC1"
                                   onclick="getChart('https://api.coingecko.com/api/v3/coins/markets?vs_currency=usd&category=ethereum-ecosystem&per_page=100&page=1&sparkline=true&price_change_percentage=1h%2C24h%2C7d&locale=en', 'Ethereum Ecosystem')">
                            <label class="tab" for="BC1">Ethereum</label>
                            <input type="radio" name="tabs" id="BC2"
                                   onclick="getChart('https://api.coingecko.com/api/v3/coins/markets?vs_currency=usd&category=fantom-ecosystem&per_page=100&page=1&sparkline=true&price_change_percentage=1h%2C24h%2C7d&locale=en', 'Fantom Ecosystem')">
                            <label class="tab" for="BC2">Fantom</label>
                            <input type="radio" name="tabs" id="BC3"
                                   onclick="getChart('https://api.coingecko.com/api/v3/coins/markets?vs_currency=usd&category=polygon-ecosystem&per_page=100&page=1&sparkline=true&price_change_percentage=1h%2C24h%2C7d&locale=en', 'Polygon-Matic Ecosystem')">
                            <label class="tab" for="BC3">Polygon-Matic</label>
                            <input type="radio" name="tabs" id="BC4"
                                   onclick="getCategories('https://api.coingecko.com/api/v3/coins/categories')">
                            <label class="tab" for="BC4">More..</label>
                        </div>
                    </div>

                    <!--        THREE OTHER BUTTONS-->
                    <input type="radio" name="tabs" id="radio1"
                           onclick="getExchanges('https://api.coingecko.com/api/v3/exchanges')">
                    <label class="tab" for="radio1">Exchanges</label>
                    <input type="radio" name="tabs" id="radio2"
                           onclick="getCategories('https://api.coingecko.com/api/v3/coins/categories')">
                    <label class="tab" for="radio2">Categories</label>
                    <input type="radio" name="tabs" id="radio3"
                           onclick="getChart('https://api.coingecko.com/api/v3/coins/markets?vs_currency=usd&order=market_cap_desc&per_page=100&page=1&sparkline=true&price_change_percentage=1h%2C24h%2C7d&locale=en','Cryptocurrency Prices by Market Cap')">
                    <label class="tab" for="radio3">Market Cap</label>
                </div>

                <!--        modify spacing-->
                <div class="d-flex justify-content-end col-4 ">
                    <!--        SEARCH-->
                    <div class="d-flex align-items-center w-100">
                        <input id="search"
                               oninput="let input = $('#search').val();searchQuery(input); console.log(input)"
                               type="text" class="form-control form-control-dark text-bg-dark" placeholder="Search..."
                               aria-label="Search">
                    </div>
                    <div>
                        <ul id="searchResults"></ul>
                    </div>
                </div>


            </div>
        </label>

    </div>


    <!-- large modal -->
    <div class="modal fade" id="largeModal" tabindex="-1" role="dialog" aria-labelledby="basicModal" aria-hidden="true">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header bg-dark">
                    <h4 class="modal-title" id="myModalLabel">Coin Info</h4>
                    <button type="button" class="close" data-bs-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div style="background: black;" class="modal-body">
                    <div id="coin-description">
                    </div>
                </div>
                <div class="modal-footer bg-dark">
                    <button type="button" class="btn btn-default bg-danger" data-bs-dismiss="modal">Close</button>
                    <a type="button" href="/dashboard" class="btn btn-primary bg-success">Add to Watchlist</a>
                </div>
            </div>
        </div>
    </div>


    <main class="mt-5">
        <section class="container-fluid ">
            <div class="row d-flex justify-content-center">


                <div class="row" id="selectedTable"></div>

                <!--  <div class="" style="height:900px;" id="terminal"></div>-->

                <div id="trending">
                    <h1 style="text-align: center">Trending Now</h1>
                    <hr style="color:white;">
                </div>


            </div>
        </section>
    </main>


    <div th:replace="partials/partials :: footer"></div>

    <script>
        let topBtn = document.getElementById("topBtn");
        // When the user scrolls down 20px from the top of the document, show the button
        window.onscroll = function () {
            scrollFunction()
        };

        function scrollFunction() {
            if (document.body.scrollTop > 20 || document.documentElement.scrollTop > 20) {
                topBtn.style.display = "block";
            } else {
                topBtn.style.display = "none";
            }
        }

        function topFunction() {
            document.body.scrollTop = 0;
            document.documentElement.scrollTop = 0;
        }

    </script> <!--Scroll to Top-->

    <script src="https://code.jquery.com/jquery-3.6.4.min.js"
            integrity="sha256-oP6HI9z1XaZNBrJURtCoUT5SUnxFr8s3BzRl+cbzUq8=" crossorigin="anonymous"></script>
    <script src="/jquery-plugins/jquery-sparkline.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js"
            integrity="sha384-ENjdO4Dr2bkBIFxQpeoTz1HIcje39Wm4jDKdf19U8gI4ddQ3GYNS7NTKfAdVQSZe"
            crossorigin="anonymous"></script>
    <script src="/js/market.js"></script>
</div>
</body>
</html>